services:
  - type: web
    name: readar-backend
    rootDir: backend
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: python -m alembic upgrade head && python -m uvicorn app.main:app --host 0.0.0.0 --port $PORT
    healthCheckPath: /health
    envVars:
      - key: ENV
        value: production
      - key: DEBUG
        value: "false"
      - key: FRONTEND_ORIGINS
        value: http://localhost:5173
      # Secrets should be set in Render dashboard:
      # - DATABASE_URL (from Render Postgres)
      # - SUPABASE_URL
      # - SUPABASE_ANON_KEY
      # - SUPABASE_JWT_SECRET
      # - STRIPE_SECRET_KEY (if used)
      # - STRIPE_PUBLISHABLE_KEY (if used)
      # - STRIPE_WEBHOOK_SECRET (if used)
      # - STRIPE_PRICE_ID (if used)

